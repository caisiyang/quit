<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, viewport-fit=cover, maximum-scale=1.0, user-scalable=no">
  <title>HUMAN INSTRUMENTALITY PROJECT - QUIT</title>
  <link rel="manifest" href="manifest.json">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="style.css">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            eva: {
              black: '#000000',
              orange: '#FF6600',
              red: '#CC0000',
              green: '#00FF00',
            }
          },
          fontFamily: {
            serif: ['"Source Han Serif SC"', 'serif'],
          }
        }
      }
    }
  </script>
</head>

<body class="bg-hex h-screen w-screen overflow-hidden">

  <!-- Main Container -->
  <div id="app" class="relative w-full h-full max-w-[600px] mx-auto flex flex-col">

    <!-- Top Bar (Decor) -->
    <div class="h-12 border-b-2 border-eva-orange flex justify-between items-center px-4 bg-black/80 z-20">
      <div class="text-eva-orange font-black text-xs tracking-[0.2em]">毒舌戒烟 // 骂醒你</div>
      <div class="h-2 w-20 bg-eva-orange animate-pulse"></div>
      <div class="text-eva-orange font-mono text-xs">V.3.33</div>
    </div>

    <!-- Content Area (Scrollable/Swappable) -->
    <div id="content-area" class="flex-1 relative overflow-hidden">

      <!-- PAGE 1: HOME (Combat) -->
      <section id="view-home" class="absolute inset-0 flex flex-col p-6 transition-transform duration-300">
        <!-- Timer Display -->
        <div class="flex-1 flex flex-col justify-center items-center">
          <div class="eva-border w-full mb-8 text-center relative bg-black/50 backdrop-blur-sm">
            <div
              class="absolute -top-3 left-4 bg-black px-2 text-eva-orange text-xs font-bold border border-eva-orange">
              SYS.TIMER</div>
            <p class="text-eva-orange text-sm mt-4 tracking-widest">当前你的戒烟进度</p>
            <div id="main-timer" class="text-6xl font-black text-white my-4 font-mono tracking-tighter">00:00:00</div>
            <div class="flex justify-between px-8 pb-4 text-xs text-eva-gray-400">
              <span>累计天数: <span id="days-count" class="text-eva-green font-bold">0</span></span>
              <span>当前香烟污染率: <span id="pollution-rate" class="text-eva-green font-bold">100%</span></span>
            </div>
          </div>

          <!-- SOS Button -->
          <div class="w-full h-1/3">
            <button id="btn-sos"
              class="btn-eva btn-eva-red w-full h-full text-4xl flex flex-col items-center justify-center shadow-[0_0_20px_rgba(204,0,0,0.5)] active:shadow-[0_0_40px_rgba(204,0,0,0.9)] group">
              <span class="glitch" data-text="烟瘾来袭！">烟瘾来袭！</span>
              <span class="glitch text-3xl mt-2" data-text="点我防御！">点我防御！</span>
              <span class="text-sm mt-4 font-mono block opacity-70 group-hover:opacity-100">危险等级：极高</span>
            </button>
          </div>
        </div>
      </section>

      <!-- PAGE 2: STATS (Data) -->
      <section id="view-stats"
        class="absolute inset-0 flex flex-col p-6 transition-transform duration-300 translate-x-[100%] bg-black">
        <div class="eva-border w-full h-full relative overflow-y-auto">
          <div class="absolute -top-3 right-4 bg-black px-2 text-eva-orange text-xs font-bold border border-eva-orange">
            DATA.LOG</div>

          <!-- Header -->
          <h2 class="text-2xl font-black text-eva-orange mb-8 border-b border-eva-orange pb-2">数据同步率</h2>

          <!-- Physiological Stats -->
          <div class="mb-8">
            <h3 class="text-white text-sm mb-2 font-bold"> > 生理机能恢复情况</h3>
            <div class="w-full bg-gray-900 h-6 border border-eva-green relative">
              <div id="bar-health" class="h-full bg-eva-green transition-all duration-1000" style="width: 0%"></div>
              <span class="absolute right-2 top-0 bottom-0 text-xs flex items-center text-black font-bold">0%</span>
            </div>
            <p class="text-xs text-eva-green mt-1 font-mono">肺活量重构中...</p>
          </div>

          <!-- Money Stats -->
          <div class="mb-8">
            <h3 class="text-white text-sm mb-2 font-bold"> > 从死神手里抢回的</h3>
            <div class="flex items-end gap-2">
              <span class="text-4xl text-eva-orange font-black">¥ <span id="money-saved">0</span></span>
              <span class="text-xs text-gray-500 mb-2 font-mono">RMB</span>
            </div>
            <div class="eva-panel mt-2">
              <p class="text-xs text-eva-orange">这些钱足够买: <span id="item-equiv" class="font-bold text-white">空气</span>
              </p>
            </div>
          </div>

          <!-- Failure Stats -->
          <div class="mb-8">
            <h3 class="text-white text-sm mb-2 font-bold"> > 意志力崩溃次数</h3>
            <div class="flex items-end gap-2">
              <span id="fail-count" class="text-4xl text-eva-red font-black">0</span>
              <span class="text-xs text-gray-500 mb-2 font-mono">次</span>
            </div>
            <p class="text-xs text-eva-red mt-1">废物记录</p>
          </div>
        </div>
      </section>

      <!-- PAGE 3: PROFILE (Config) -->
      <section id="view-profile"
        class="absolute inset-0 flex flex-col p-6 transition-transform duration-300 translate-x-[200%] bg-black">
        <div class="eva-border w-full h-full relative overflow-y-auto">
          <div class="absolute -top-3 left-4 bg-black px-2 text-eva-orange text-xs font-bold border border-eva-orange">
            PILOT.CONF</div>

          <h2 class="text-2xl font-black text-eva-orange mb-8 border-b border-eva-orange pb-2">烟瘾患者档案</h2>

          <form id="profile-form" class="space-y-6">

            <!-- Field: Reason -->
            <div class="space-y-2">
              <label class="block text-xs text-eva-orange font-bold uppercase">戒烟理由 (你的把柄)</label>
              <div class="flex gap-2">
                <input type="text" id="inp-reason"
                  class="flex-1 bg-gray-900 border border-eva-orange p-3 text-white font-serif focus:outline-none focus:border-white transition-colors"
                  placeholder="填吧，别这都编不出来">
                <button type="button" id="btn-save-insult"
                  class="bg-eva-orange text-black font-bold px-4 text-xs hover:bg-white transition-colors">保存</button>
              </div>
            </div>

            <!-- Field: Years -->
            <div class="space-y-2">
              <label class="block text-xs text-eva-orange font-bold uppercase">烟龄 (默认10年)</label>
              <input type="number" id="inp-years"
                class="w-full bg-gray-900 border border-eva-orange p-3 text-white font-serif focus:outline-none focus:border-white"
                placeholder="10">
            </div>

            <!-- Field: Cost -->
            <div class="space-y-2">
              <label class="block text-xs text-eva-orange font-bold uppercase">单价 (每包多少钱)</label>
              <input type="number" id="inp-cost" value="25"
                class="w-full bg-gray-900 border border-eva-orange p-3 text-white font-serif focus:outline-none focus:border-white">
            </div>

            <div class="pt-8">
              <button type="submit" class="btn-eva w-full">更新数据并接受审判</button>
            </div>

          </form>
        </div>
      </section>

    </div>

    <!-- Navigation Bar (EVA Style) -->
    <div class="h-16 border-t-2 border-eva-orange bg-black/90 flex z-30">
      <button onclick="navTo('home')"
        class="flex-1 border-r border-eva-dark-gray hover:bg-eva-orange/20 transition-colors flex flex-col items-center justify-center group active">
        <span class="text-xs font-mono text-gray-500 group-hover:text-eva-orange">01</span>
        <span class="text-sm font-bold text-eva-orange">作战</span>
      </button>
      <button onclick="navTo('stats')"
        class="flex-1 border-r border-eva-dark-gray hover:bg-eva-orange/20 transition-colors flex flex-col items-center justify-center group">
        <span class="text-xs font-mono text-gray-500 group-hover:text-eva-orange">02</span>
        <span class="text-sm font-bold text-eva-orange">数据</span>
      </button>
      <button onclick="navTo('profile')"
        class="flex-1 hover:bg-eva-orange/20 transition-colors flex flex-col items-center justify-center group">
        <span class="text-xs font-mono text-gray-500 group-hover:text-eva-orange">03</span>
        <span class="text-sm font-bold text-eva-orange">系统</span>
      </button>
    </div>

    <!-- SOS Overlay (Hidden by default) -->
    <div id="sos-modal" class="hidden fixed inset-0 z-50 bg-red-900/90 flex flex-col items-center justify-center">
      <div class="absolute inset-0 bg-[url('assets/pattern.png')] opacity-20 pointer-events-none"></div>

      <div class="w-full max-w-md p-8 text-center relative z-10">
        <div class="mb-4">
          <span
            class="bg-black text-eva-red border border-eva-red px-4 py-1 font-black text-xl tracking-[0.5em] animate-pulse">WARNING</span>
        </div>

        <h1 id="sos-timer" class="text-6xl font-black text-white mb-4 glitch" data-text="05:00">05:00</h1>

        <div class="border-t-2 border-b-2 border-eva-red py-6 my-6 bg-black/50">
          <p id="glitch-quote"
            class="text-2xl font-bold text-white leading-tight font-serif min-h-[4rem] flex items-center justify-center">
            YOU WILL NOT SURVIVE.
          </p>
        </div>

        <button id="btn-giveup" class="btn-hard w-full p-4 bg-gray-900 text-gray-500 text-sm hover:text-gray-300">
          我认怂了，我是废物 (退出)
        </button>
      </div>
    </div>

    <!-- Install Prompt Overlay -->
    <div id="install-modal"
      class="hidden fixed inset-0 z-50 bg-black/90 flex flex-col items-end justify-end pb-8 pr-8 pointer-events-none">
      <div
        class="pointer-events-auto bg-gray-900 border-2 border-eva-orange p-6 max-w-sm relative shadow-[0_0_30px_rgba(255,102,0,0.3)]">
        <div class="absolute -top-3 -left-3 bg-eva-orange text-black font-black text-xs px-2 py-1">系统消息</div>
        <h3 class="text-eva-orange font-bold text-xl mb-2">终端连接断开</h3>
        <p class="text-white text-sm leading-relaxed mb-4">
          初始化连接程序:<br>
          1. 点击 <span class="inline-block bg-gray-700 px-2 rounded">[分享]</span> 按钮<br>
          2. 选择 <span class="text-eva-orange font-bold">[添加到主屏幕]</span>
        </p>
        <button onclick="document.getElementById('install-modal').classList.add('hidden')"
          class="text-xs text-gray-500 hover:text-white underline w-full text-right">
          确认
        </button>

        <!-- Triangle pointer to bottom -->
        <div
          class="absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-4 h-4 bg-gray-900 border-r-2 border-b-2 border-eva-orange rotate-45">
        </div>
      </div>
    </div>

  </div>

  <script src="script.js"></script>
</body>

</html>